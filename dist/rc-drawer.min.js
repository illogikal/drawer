!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports["rc-drawer"]=t(require("react"),require("react-dom")):e["rc-drawer"]=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);t.default=o.a},function(e,t){},function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(10),l=n.n(s),c=n(11),u=(n.n(c),n(8)),p=n.n(u),f=n(4),d=n.n(f),h=n(3),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v="undefined"==typeof window,y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.call(n),(e.onIconClick||e.parent||e.iconChild||e.width)&&console.warn("rc-drawer-menu API has been changed, please look at the releases, https://github.com/react-component/drawer-menu/releases"),n.state={open:void 0!==e.open?e.open:!!e.defaultOpen},n}return i(t,e),m(t,[{key:"componentDidMount",value:function(){this.getParentAndLevelDom(this.props),(this.props.getContainer||this.props.parent)&&(this.container=this.defaultGetContainer()),this.forceUpdate()}},{key:"componentWillReceiveProps",value:function(e){var t=e.open,n=e.placement;void 0!==t&&t!==this.props.open&&(this.isOpenChange=!0,this.setState({open:t})),n!==this.props.placement&&(this.contextDom=null),this.props.level!==e.level&&this.getParentAndLevelDom(e)}},{key:"componentWillUnmount",value:function(){this.container&&(this.setLevelDomTransform(!1,!0),this.props.getContainer&&this.container.parentNode.removeChild(this.container))}},{key:"render",value:function(){var e=this,t=this.getChildToRender();return this.props.getContainer?this.container?n.i(c.createPortal)(t,this.container):null:l.a.createElement("div",{className:this.props.wrapperClassName,ref:function(t){e.container=t}},t)}}]),t}(l.a.PureComponent);y.propTypes={wrapperClassName:p.a.string,open:p.a.bool,bodyStyle:p.a.object,defaultOpen:p.a.bool,placement:p.a.string,level:p.a.oneOfType([p.a.string,p.a.array]),levelTransition:p.a.string,getContainer:p.a.string,handleChild:p.a.any,handleStyle:p.a.object,onChange:p.a.func,onMaskClick:p.a.func,onHandleClick:p.a.func,showMask:p.a.bool,maskStyle:p.a.object},y.defaultProps={className:"",prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",levelTransition:"transform .3s cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},onMaskClick:function(){},onHandleClick:function(){},handleChild:l.a.createElement("i",{className:"drawer-handle-icon"}),handleStyle:{},showMask:!0,maskStyle:{}};var g=function(){var e=this;this.levelDom=[],this.contextDom=null,this.maskDom=null,this.handleDom=null,this.mousePos=null,this.getParentAndLevelDom=function(t){if(!v){var o=t.level,r=t.getContainer;if(e.levelDom=[],e.parent=r&&document.querySelectorAll(r)[0]||e.container.parentNode,"all"===o){Array.prototype.slice.call(e.parent.children).forEach(function(t){"SCRIPT"!==t.nodeName&&"STYLE"!==t.nodeName&&t!==e.container&&e.levelDom.push(t)})}else o&&n.i(h.a)(o).forEach(function(t){document.querySelectorAll(t).forEach(function(t){e.levelDom.push(t)})})}},this.trnasitionEnd=function(t){var n=t.target;n.removeEventListener(h.b,e.trnasitionEnd),n.style.transition=""},this.onTouchEnd=function(t,n){if(void 0===e.props.open){var o=n||e.state.open;e.isOpenChange=!0,e.setState({open:!o})}},this.onMaskTouchEnd=function(t){e.props.onMaskClick(t),e.onTouchEnd(t,!0)},this.onIconTouchEnd=function(t){e.props.onHandleClick(t),e.onTouchEnd(t)},this.onScrollTouchStart=function(t){if(!(t.touches.length>1)){var n=t.touches[0];e.mousePos={x:n.pageX,y:n.pageY}}},this.onScrollTouchEnd=function(){e.mousePos=null},this.getScollDom=function(t){var n=[];return function t(o){o&&((o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth)&&n.push(o),o!==e.contextDom&&o!==e.handleDom&&o!==e.maskDom&&t(o.parentNode))}(t),n[n.length-1]},this.getIsHandleDom=function(t){return t.className===e.props.className+"-handle"||!!t.parentNode&&e.getIsHandleDom(t.parentNode)},this.removeScroll=function(t){if(e.props.showMask){var n=t.target,o=e.getScollDom(n);if(n===e.maskDom||e.getIsHandleDom(n)||!o)return t.preventDefault&&t.preventDefault(),void(t.returnValue=!1);var r=t.deltaY,a=t.deltaX;if("touchmove"===t.type){if(t.touches.length>1||!e.mousePos)return;var i=t.touches[0];r=e.mousePos.y-i.pageY,a=e.mousePos.x-i.pageX}var s=o.scrollTop,l=o.clientHeight,c=o.scrollHeight,u=c-l>2,p=u&&(s<=0&&r<0||s+l>=c&&r>0),f=o.clientWidth,d=o.scrollLeft,h=o.scrollWidth,m=h-f>2,v=h-f>2&&(d<=0&&a<0||d+f>=h&&a>0);return!u&&!m||p||v?(t.preventDefault&&t.preventDefault(),void(t.returnValue=!1)):void 0}},this.setLevelDomTransform=function(t,n,o,r){var a=e.props,i=a.placement,s=a.levelTransition,l=a.onChange;if(e.levelDom.forEach(function(a){(e.isOpenChange||n)&&(a.style.transition=s,a.addEventListener(h.b,e.trnasitionEnd));var l="left"===i||"top"===i?r:-r;a.style.transform=t?o+"("+l+"px)":""}),!v){var c=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){c=!0}}))}catch(e){console.log(e)}var u=!!c&&{passive:!1};t?(document.body.addEventListener("mousewheel",e.removeScroll),document.body.addEventListener("touchmove",e.removeScroll,u)):(document.body.removeEventListener("mousewheel",e.removeScroll),document.body.removeEventListener("touchmove",e.removeScroll,u))}l&&e.isOpenChange&&(l(t),e.isOpenChange=!1)},this.getChildToRender=function(){var t,n=void 0!==e.props.open?e.props.open:e.state.open,r=e.props,a=r.className,i=r.prefixCls,s=r.style,c=r.placement,u=r.children,p=r.handleChild,f=r.handleStyle,h=r.showMask,m=r.maskStyle,v=d()(i,(t={},o(t,i+"-"+c,!0),o(t,i+"-open",n),o(t,a,!!a),t)),y=e.contextDom?e.contextDom.getBoundingClientRect()["left"===c||"right"===c?"width":"height"]:0,g="translate"+("left"===c||"right"===c?"X":"Y"),b=e.contextDom?y+"px":"100%",C="left"===c||"top"===c?"-"+b:b,T=n?"":g+"("+C+")";return(void 0===e.isOpenChange||e.isOpenChange)&&e.setLevelDomTransform(n,!1,g,y),l.a.createElement("div",{className:v,style:s},h&&l.a.createElement("div",{className:i+"-mask",onClick:e.onMaskTouchEnd,style:m,ref:function(t){e.maskDom=t}}),l.a.createElement("div",{className:i+"-content-wrapper",style:{transform:T}},l.a.createElement("div",{className:i+"-content",onTouchStart:e.onScrollTouchStart,onTouchEnd:e.onScrollTouchEnd,ref:function(t){e.contextDom=t}},u),p&&l.a.createElement("div",{className:i+"-handle",onClick:e.onIconTouchEnd,style:f,ref:function(t){e.handleDom=t}},p)))},this.defaultGetContainer=function(){if(v)return null;var t=document.createElement("div");return e.parent.appendChild(t),e.props.wrapperClassName&&(t.className=e.props.wrapperClassName),t}};t.a=y},function(e,t,n){"use strict";function o(e){return e||0===e?Array.isArray(e)?e:[e]:[]}t.a=o,n.d(t,"b",function(){return i});var r={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},a=Object.keys(r).filter(function(e){return!("undefined"==typeof document||!document.body)&&e in document.body.style})[0],i=r[a]},function(e,t,n){var o,r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var i=n.apply(null,o);i&&e.push(i)}else if("object"===r)for(var s in o)a.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):(o=[],void 0!==(r=function(){return n}.apply(t,o))&&(e.exports=r))}()},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function o(e,t,n,o,a,i,s,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,a,i,s,l],p=0;c=new Error(t.replace(/%s/g,function(){return u[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};e.exports=o},function(e,t,n){"use strict";var o=n(5),r=n(6),a=n(9);e.exports=function(){function e(e,t,n,o,i,s){s!==a&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){e.exports=n(7)()},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){n(1),e.exports=n(0)}])});